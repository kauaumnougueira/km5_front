<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style/style.css">
    <title>Perfil</title>
</head>
<body>
    <div class="container shadow-lg bg-light">
        <div class="row justify-content-md-center" id="perifl-header">
            <div class="col p-4">
                <form id="perfil">
                    <div class="form-group">
                        <div class="row justify-content-md-center">
                            <div class="col-1">
                                <label>Nome</label>
                            </div>
                            <div class="col-8">
                                <input type="text" class="form-control" name="nome" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row justify-content-md-center">
                            <div class="col-1">
                                <label>Telefone</label>
                            </div>
                            <div class="col-8">
                                <input type="text" class="form-control" name="telefone" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row justify-content-md-center">
                            <div class="col-1">
                                <label>Endere√ßo</label>
                            </div>
                            <div class="col-8">
                                <input type="text" class="form-control" name="endereco" required>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <button onclick="editar()" class="btn btn-primary" id="btn">editar</button>
        </div>
    </div>
</body>
<script>
    const token = document.head.querySelector('meta[name="csrf-token"]').getAttribute('content');
    
    //ADCIONAR CONTEUDO DO INPUT COM O GET DO CLIENTE BY YOUR NAME OR ID, GERENCIAR ISSO DA MELHRO FORMA DEPENDENDO DECOMO ESSA PAGINA FOI ACESSADA
    const inputs = [...document.getElementsByTagName('input')]
    //LEMBRAR DE FAZER /PERFIL SER INACESSIVEL, JA QUE NAO DA PRA SABER QUAL PERFIL VOCE VAI VISITAR
    const btn = document.getElementById('btn')
    const perfil = document.getElementById('perfil')

    inputs.forEach(e => {
        e.setAttribute('disabled', "")
    })

    function editar(){
        //libera inputs
        inputs.forEach(e => {
            e.removeAttribute('disabled')
        })
        //trocar atributos do button
        btn.innerHTML = 'salvar'
        btn.setAttribute('onclick', 'salvar()')
    }

    function salvar(){
        //mandar dados
        editarCliente(token, perfil)
        //trocar atributos do button
        btn.innerHTML = 'editar'
        btn.setAttribute('onclick', 'editar()')
        //tranca inputs
        inputs.forEach(e => {
            e.setAttribute('disabled', "")
        })
    }
</script>
</html>